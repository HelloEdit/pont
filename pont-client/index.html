<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>pont</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet">
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
    <script type="module">
        import init from './pkg/pont_client.js';
        async function run() {
            await init();
        }
        run();
    </script>

    <!-- Initial UI just says "Loading..." -->
    <div id="loading"><p>Loading...</p></div>

    <div id="connecting" hidden=""><p>Connecting...</p></div>

    <!-- UI while joining the game -->
    <div id="join" hidden="">
        <form id="join_form">
            <p><b>Name:</b><input id="name_input" placeholder="John Smith" required=""></p>
            <p><b>Room:</b><input id="room_input" pattern="^[a-z]+ [a-z]+ [a-z]+$"></p>
            <p><button id="play_button" type="submit">Create new room</button></p>
        </form>
        <div id="err_div" hidden="">
            <i class="fas fa-exclamation-triangle"></i>
            <span id="err_span"></span>
        </div>
    </div>

    <!-- Main game UI -->
    <div id="playing" hidden="">
        <p><b>Room: </b><span id="room_name"></span></p>
        <div id="game">
            <div id="svg_div" class="nyt">
                <svg id="dummy" viewBox="0 0 200 200"></svg>
                <div id="hand" class="background"></div>
                <div id="board" class="background"></div>
                <div id="exchange_div"><p>Drop here to<br>swap pieces</p></div>
                <button id="accept_button" class="gameplay" disabled>
                    <i class="fas fa-check"></i>
                </button>
                <button id="reject_button" class="gameplay" disabled>
                    <i class="fas fa-times"></i>
                </button>
                <svg id="game_svg" width="100" height="100" viewBox="0 0 200 200">
                    <defs>
                        <clipPath id="clip_rect">
                            <rect width="200" height="175" x="0" y="0"></rect>
                        </clipPath>
                    </defs>
                    <rect id="pan_rect" width="200" height="175" x="0" y="0"></rect>
                    <g clip-path="url(#clip_rect)">
                        <g id="pan_group" transform="translate(0 0)"></g>
                    </g>
                </svg>
            </div>
            <div>
                <table id="score_table">
                    <tbody id="score_rows">
                        <tr><th colspan="2">Player</th><th>Score</th></tr>
                    </tbody>
                </table>
            </div>
            <div id="chat_div">
                <div id="chat_msgs"></div>
                <div id="chat_input_div">
                    <p><b id="chat_name"></b></p>
                    <input id="chat_input" placeholder="Send Message...">
                </div>
            </div>
        </div>
    </div>

    <div id="footer">
        <p>Â© 2020 <a href="https://mattkeeter.com">Matt Keeter</a></p>
        <p>Revision: <span id="revhash"></span></p>
    </div>
  </body>
</html>
